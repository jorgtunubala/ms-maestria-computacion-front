<p-tabView>
    <p-tabPanel
        header="Solicitante"
        leftIcon="pi pi-user"
        tooltip="Información del solicitante"
    >
        <div class="grid" style="height: 100px">
            <div class="col-4">
                <p class="text-base m-0">
                    Nombre:

                    {{ radicar.datosSolicitante.nombres }}
                    {{ radicar.datosSolicitante.apellidos }}
                </p>
                <p class="text-base m-0">
                    Identificación:

                    {{ radicar.datosSolicitante.numeroDocumento }}
                </p>
                <p class="text-base m-0">
                    Código: {{ radicar.datosSolicitante.codigoAcademico }}
                </p>
            </div>
            <div class="col-4">
                <p class="text-base m-0">
                    Correo:
                    {{ radicar.datosSolicitante.correo }}
                </p>
                <p class="text-base m-0">
                    Celular:
                    {{ radicar.datosSolicitante.celular }}
                </p>
            </div>
            <div class="col-4"></div>
        </div>
    </p-tabPanel>
    <p-tabPanel
        header="Solicitud"
        leftIcon="pi pi-file"
        tooltip="Información de la solicitud"
    >
        <div class="grid" style="height: 100px">
            <div class="col-4">
                <p class="text-base m-0">
                    Tipo: {{ radicar.tipoSolicitudEscogida.nombreSolicitud }}
                </p>
                <p class="text-base m-0">
                    Fecha Recepción:

                    {{ radicar.fechaEnvio }}
                </p>
                <p class="text-base m-0">
                    Estado:

                    <p-tag
                        severity="info"
                        value="{{ radicar.estadoSolicitud }}"
                    ></p-tag>
                </p>
            </div>

            <div class="col-4"></div>
            <div class="col-4"></div>
        </div>
    </p-tabPanel>
    <p-tabPanel
        header="Adjuntos"
        leftIcon="pi pi-paperclip"
        tooltip="Documentos anexos de la solicitud"
    >
        <div class="grid overflow-auto" style="height: 100px">
            <div class="col-12">
                <ng-container
                    *ngFor="let documento of radicar.documentosAdjuntos"
                >
                    <button
                        pButton
                        pRipple
                        type="button"
                        icon="pi pi-file-pdf"
                        label="{{ documento.name }}"
                        (click)="abrirArchivo(documento.name)"
                        class="p-button-rounded p-button-secondary mr-2 mb-2 text-sm"
                    ></button>
                </ng-container>
            </div>
        </div>
    </p-tabPanel>
</p-tabView>

<div>
    <div *ngIf="radicar.esperando" class="w-9 mx-auto mt-7 mb-4">
        <p class="text-center text-lg font-semibold">
            Cargando vista previa del oficio de solicitud...
        </p>
    </div>

    <div class="contenedor-oficio">
        <app-oficio *ngIf="mostrarOficio"> </app-oficio>

        <div *ngIf="radicar.esperando" class="vista-carga">
            <div class="fondo-blanco"></div>
        </div>
    </div>

    <div
        *ngIf="!radicar.esperando"
        class="w-full md:w-9 mt-4"
        style="margin-left: auto; margin-right: auto"
    >
        <p-fieldset class="" legend="Firma">
            <div class="grid">
                <div class="col-12">
                    <p-fileUpload
                        #fsigTutorDirector
                        mode="basic"
                        name="file[]"
                        [auto]="true"
                        [customUpload]="true"
                        (uploadHandler)="onUpload($event, fsigTutorDirector)"
                        accept="image/*"
                        chooseIcon="pi pi-upload"
                        maxFileSize="1000000"
                        [auto]="true"
                        chooseLabel="Cargue una imagen de su firma"
                        [style]="{ width: '100%' }"
                    >
                    </p-fileUpload>

                    <div
                        class="col-12 md:col-6 md:col-offset-3 mt-3"
                        *ngIf="mostrarBtnFirmar"
                    >
                        <img #firmaImage class="max-w-full" />
                    </div>

                    <button
                        #firmar
                        *ngIf="mostrarBtnFirmar"
                        pButton
                        pRipple
                        type="button"
                        (click)="firmarSolicitud()"
                        label="Firmar documento"
                        class="p-button-secondary"
                        [style]="{ width: '100%' }"
                    ></button>
                </div>
            </div>
        </p-fieldset>
    </div>

    <div class="grid grid-nogutter mt-4 justify-content-end">
        <p-button
            label="Generar PDF"
            (click)="ejecutarMetodoDelComponenteHijo()"
            icon="pi pi-file-pdf"
            iconPos="left"
            [(disabled)]="radicar.esperando"
        ></p-button>
    </div>
</div>
